(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PagePerfilUsuarioTutor"],{"0a9e":function(t,e,a){},1627:function(t,e,a){},"1f4d":function(t,e,a){"use strict";a("9f54")},"2fe6":function(t,e,a){t.exports=a.p+"img/dog.f962e89a.jpg"},"49f6":function(t,e,a){"use strict";a("1627")},8446:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tableContainer"},[a("v-tabs",{staticClass:"tabBar",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v("Minha agenda")]),a("v-tab",[t._v("Solicitações de tutorias")]),a("v-tab",[t._v("Tutorias realizadas")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("AgendaTutor")],1),a("v-tab-item",[a("SolicitacoesTutoria")],1),a("v-tab-item",[a("Tutorias")],1)],1)],1)},n=[],o=a("d4ec"),i=a("bee2"),s=a("262e"),u=a("2caf"),c=(a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("9ab4")),d=a("cdd0"),l=a("6fc5"),f=a("1b40"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isCarregandoTutorias?r("section",{attrs:{id:"loading"}},[r("v-progress-linear",{staticClass:"mt-12",attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1):r("section",{attrs:{id:"main"}},[r("v-data-table",{key:t.tutoriasArray.id,attrs:{headers:t.headers,items:t.tutoriasArray,"single-expand":t.singleExpand,expanded:t.expanded,"items-per-page":10,"show-expand":"","fixed-header":"",height:"40em"},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.avatar",fn:function(){return[r("v-avatar",{attrs:{size:"36px"}},[r("v-img",{attrs:{src:a("2fe6")}})],1)]},proxy:!0},{key:"expanded-item",fn:function(e){var a=e.headers,n=e.item;return[r("td",{attrs:{colspan:a.length}},[t.getRequestState(n.estado)?r("div",{staticClass:"buttonsContainer"},[r("ModalRegistrarTutoria",{attrs:{nome:n.nomeProfessor,data:n.date,horario:n.time},on:{inputChange:function(e){return t.handleChange(n.id)}}})],1):r("div",{staticClass:"buttonsContainer"},[r("v-btn",{staticClass:"btnTextWhite",attrs:{color:"#106CE5",disabled:""}},[t._v("Registrar tutoria ")])],1)])]}}],null,!0)})],1)},p=[],g=a("1da1"),v=a("5530"),b=(a("96cf"),a("99af"),a("159b"),a("25f0"),a("a3a5")),m=a("4a4e"),x=function(){return a.e("chunk-7dab1e0f").then(a.bind(null,"ff68"))},y=function(t){Object(s["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.authModule=Object(l["e"])(d["a"],t.$store),t.tutoriaModule=Object(l["e"])(b["a"],t.$store),t.professorModule=Object(l["e"])(m["a"],t.$store),t.userCopy=Object(v["a"])({},t.authModule.user),t.showModalRegitrarTutoria=!1,t.dialog=!1,t.isCarregandoTutorias=!0,t.tutoriasArray=[],t.expanded=[],t.singleExpand=!1,t.headers=[{text:"Avatar",value:"avatar",sortable:!1,align:"start"},{text:"Nome",value:"nomeProfessor"},{text:"Data",value:"date"},{text:"Horário",value:"time"},{text:"Assunto",value:"assunto"},{text:"",value:"acao"},{text:"",value:"data-table-expand"}],t}return Object(i["a"])(a,[{key:"criarTutoria",value:function(t,e,a,r,n,o,i){var s={id:t,fotoProfessor:e,nomeProfessor:a,date:r,time:n,assunto:o,estado:i};return s}},{key:"registrarTutoria",value:function(){console.log("registrarTutoria"),this.showModalRegitrarTutoria=!0}},{key:"cancelarOperacao",value:function(){this.showModalRegitrarTutoria=!1,this.dialog=!1}},{key:"adicionaZero",value:function(t){return t<=9?"0"+t:t}},{key:"formatarData",value:function(t){if(!t)return"";var e=t.substring(0,10),a=e.substring(8,10),r=e.substring(5,7),n=e.substring(0,4);return e="".concat(a,"/").concat(r,"/").concat(n),e}},{key:"user",get:function(){return this.userCopy=this.authModule.user}},{key:"getTutorias",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,this.tutoriaModule.getAllTutoriasFromTutor(this.userCopy._id).then((function(t){t.forEach((function(t){"pendente"!==t.requestState&&a.professorModule.fetchProfessorById(t.professorId).then((function(r){var n=a.criarTutoria(t._id,r.fotoPerfil,r.nome,a.formatarData(t.tutoringDate.toString()),t.tutoringHour.toString(),"Google meet",t.requestState);e.push(n)}))}))})).finally((function(){a.tutoriasArray=e,a.isCarregandoTutorias=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getRequestState",value:function(t){return"registrada"!==t}},{key:"handleChange",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e){t.next=3;break}return t.next=3,this.tutoriaModule.registraTutoria(e).then((function(){a.$toasted.success("Tutoria registrada",{theme:"toasted-primary",position:"top-right",duration:5e3})}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.getTutorias()}}]),a}(f["d"]);y=Object(c["a"])([Object(f["a"])({name:"Tutorias",components:{ModalRegistrarTutoria:x}})],y);var T=y,C=T,k=(a("1f4d"),a("2877")),j=Object(k["a"])(C,h,p,!1,null,null,null),O=j.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isCarregandoTutorias?r("section",{attrs:{id:"loading"}},[r("v-progress-linear",{staticClass:"mt-12",attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1):r("section",{attrs:{id:"main"}},[r("v-data-table",{key:t.tutoriasArray.id,attrs:{headers:t.requestsHeaders,items:t.tutoriasArray,"single-expand":t.singleExpand,expanded:t.expanded,"show-expand":"","current-items":"","fixed-header":"",height:"40em"},on:{"update:expanded":function(e){t.expanded=e}},scopedSlots:t._u([{key:"item.foto",fn:function(){return[r("v-avatar",{attrs:{size:"36px"}},[r("v-img",{attrs:{src:a("2fe6")}})],1)]},proxy:!0},{key:"expanded-item",fn:function(e){var a=e.headers,n=e.item;return[r("td",{attrs:{colspan:a.length}},[r("div",{staticClass:"expandedCellContainer"},[r("div",{staticClass:"descriptionContainer"},[r("p",{staticClass:"description"},[t._v(" "+t._s(n.mensagemTutoria)+" ")]),r("div",{staticClass:"contactInformationContainer"},[r("p",[t._v(t._s(n.emailProfessor))]),r("p",[t._v(t._s(n.celularProfessor))])])]),r("div",{staticClass:"buttonsContainer"},[r("ModalCancelarTutoria",{attrs:{tutoriaId:n.id},on:{inputChange:function(e){return t.handleChange(n.id)}}}),r("ModalAceitarTutoria",{attrs:{tutoriaId:n.id},on:{inputChange:function(e){return t.acceptChange(n.id)}}})],1)])])]}}],null,!0)})],1)},w=[],P=function(){return a.e("chunk-1458f956").then(a.bind(null,"d64b"))},_=function(){return a.e("chunk-44de1a81").then(a.bind(null,"ecae"))},R=function(t){Object(s["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.dialog=!1,t.tutoriasArray=[],t.isCarregandoTutorias=!0,t.tutoriaModule=Object(l["e"])(b["a"],t.$store),t.professorModule=Object(l["e"])(m["a"],t.$store),t.authModule=Object(l["e"])(d["a"],t.$store),t.userCopy=Object(v["a"])({},t.authModule.user),t}return Object(i["a"])(a,[{key:"criarTutoria",value:function(t,e,a,r,n,o,i,s,u){var c={id:t,date:e,time:a,fotoProfessor:r,nomeProfessor:n,assuntoProfessor:o,mensagemTutoria:i,emailProfessor:s,celularProfessor:u};return c}},{key:"user",get:function(){return this.userCopy=this.authModule.user}},{key:"data",value:function(){return{expanded:[],singleExpand:!1,requestsHeaders:[{text:"Foto",align:"start",sortable:!1,value:"foto"},{text:"Nome",value:"nomeProfessor"},{text:"Data",value:"date"},{text:"Horário",value:"time"},{text:"Assunto",value:"assuntoProfessor"},{text:"",value:"data-table-expand"}]}}},{key:"getTutoria",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,this.tutoriaModule.getTutoriasPendentesFromTutor(this.userCopy._id).then((function(t){t.forEach((function(t){a.professorModule.fetchProfessorById(t.professorId).then((function(r){var n=a.criarTutoria(t._id,a.formatarData(t.tutoringDate.toString()),t.tutoringHour.toString(),"professor.fotoPerfil",r.nome,"Google meet",t.requestMessage,r.email,r.celular);e.push(n)}))}))})).finally((function(){a.tutoriasArray=e,a.isCarregandoTutorias=!1}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"handleChange",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e){t.next=3;break}return t.next=3,this.tutoriaModule.deleteTutoria(e).then((function(){a.$toasted.success("Tutoria deletada",{theme:"toasted-primary",position:"top-right",duration:5e3})}));case 3:this.getTutoria();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"acceptChange",value:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==e){t.next=3;break}return t.next=3,this.tutoriaModule.aceitaTutoria(e).then((function(){a.$toasted.success("Tutoria aceita",{theme:"toasted-primary",position:"top-right",duration:5e3})}));case 3:this.getTutoria();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"formatarData",value:function(t){if(!t)return"";var e=t.substring(0,10),a=e.substring(8,10),r=e.substring(5,7),n=e.substring(0,4);return e="".concat(a,"/").concat(r,"/").concat(n),e}},{key:"mounted",value:function(){this.getTutoria()}}]),a}(f["d"]);R=Object(c["a"])([Object(f["a"])({name:"Tutorias",components:{ModalCancelarTutoria:P,ModalAceitarTutoria:_}})],R);var A=R,S=A,$=(a("49f6"),Object(k["a"])(S,M,w,!1,null,null,null)),E=$.exports,D=function(){return a.e("PageAgenda").then(a.bind(null,"c6f1"))},q=function(t){Object(s["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.authModule=Object(l["e"])(d["a"],t.$store),t.tab=0,t.isEditing=!1,t}return Object(i["a"])(a,[{key:"canEditUser",get:function(){return 2===Number(this.tab)}}]),a}(f["d"]);q=Object(c["a"])([Object(f["a"])({name:"PageHomeTutor",components:{Tutorias:O,SolicitacoesTutoria:E,AgendaTutor:D}})],q);var H=q,I=H,z=(a("89e4"),Object(k["a"])(I,r,n,!1,null,"6e864e46",null));e["default"]=z.exports},"89e4":function(t,e,a){"use strict";a("0a9e")},"9f54":function(t,e,a){}}]);
//# sourceMappingURL=PagePerfilUsuarioTutor.3ebd073f.js.map