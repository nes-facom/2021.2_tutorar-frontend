(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PagePerfilUsuarioTutor"],{"1a74":function(t,e,a){"use strict";e["a"]=["UTFPR","UNIVASF","UNIRIO","UNIR","UNIPAMPA","UNILAB","UNILA","UNIFESSPA","UNIFESP","UNIFEI","UNIFAP","UNIFAL-MG","UnB","UFVJM","UFV","UFU","UFTM","UFT","UFSM","UFSJ","UFSCar","UFSC","UFSB","UFS","UFRRJ","UFRR","UFRPE","UFRN","UFRJ","UFRGS","UFRB","UFRA","UFR","UFPR","UFPI","UFPel","UFPE","UFPB","UFPA","UFOPA","UFOP","UFOB","UFNT","UFMT","UFMS","UFMG","UFMA","UFLA","UFJF","UFJ","UFGD","UFG","UFFS","UFF","UFES","UFERSA","UFDPar","UFCSPA","UFCG","UFCat","UFCA","UFC","UFBA","UFAPE","UFAM","UFAL","UFAC","UFABC","FURG"]},"1d42":function(t,e,a){},"2b60":function(t,e,a){"use strict";var i=a("1d42"),r=a.n(i);r.a},"4f26":function(t,e,a){},"7c63":function(t,e,a){"use strict";var i=a("4f26"),r=a.n(i);r.a},8767:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-card",{staticClass:"pa-0"},[a("v-row",{attrs:{align:"center",justify:"center","no-gutters":""}},[a("v-col",{staticClass:"pa-0",attrs:{cols:"3"}},[a("ProfileSidebar")],1),a("v-col",{staticStyle:{"border-left":"1px solid #e3e3e3","min-height":"380px"},attrs:{cols:"9","align-self":"start"}},[a("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{disabled:t.isEditing}},[t._v("Solicitações Tutoria")]),a("v-tab",{attrs:{disabled:t.isEditing}},[t._v("Tutorias Realizadas")]),a("v-tab",[t._v("Meu Usuário")]),a("v-spacer"),a("v-btn",{attrs:{disabled:!t.canEditUser,color:t.isEditing?"red":"grey","x-large":"",text:""},on:{click:function(e){t.isEditing=!t.isEditing}}},[a("span",{domProps:{textContent:t._s(t.isEditing?"Cancelar":"Editar")}}),a("v-icon",{staticClass:"ml-3",domProps:{textContent:t._s(t.isEditing?"mdi-pencil-off-outline":"mdi-pencil")}})],1)],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("SolicitacoesTutoria")],1),a("v-tab-item",[a("Tutorias")],1),a("v-tab-item",[a("TabDadosUsuarioTutor",{attrs:{isEditing:t.isEditing},on:{"finished-editing":function(e){t.isEditing=!1}}})],1)],1)],1)],1)],1)],1)],1)},r=[],o=(a("a9e3"),a("d4ec")),s=a("bee2"),n=a("262e"),u=a("2caf"),l=a("9ab4"),c=a("cdd0"),d=a("6fc5"),v=a("60a3"),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticClass:"mt-6",attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-data-table",{attrs:{headers:t.headers,items:t.tutorias,"hide-default-footer":""},scopedSlots:t._u([{key:"item.avatar",fn:function(){return[i("v-avatar",{attrs:{size:"36px"}},[i("v-img",{attrs:{src:a("2fe6")}})],1)]},proxy:!0},{key:"item.acao",fn:function(e){var a=e.item;return[a.temRegistro?i("v-btn",{staticClass:"white--text mr-2",attrs:{color:"primary",small:""},on:{click:function(e){return t.editarTutoria(a)}}},[i("span",[t._v("Editar")])]):i("v-btn",{staticClass:"white--text",attrs:{color:"green",small:""},on:{click:function(e){return t.registrarTutoria(a)}}},[i("span",[t._v("Registrar")])])]}}])})],1),i("ModalRegistrarTutoria",{model:{value:t.showModalRegitrarTutoria,callback:function(e){t.showModalRegitrarTutoria=e},expression:"showModalRegitrarTutoria"}})],1)},b=[],f=(a("d3b7"),function(){return a.e("chunk-2d238478").then(a.bind(null,"ff68"))}),h=function(t){Object(n["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.authModule=Object(d["e"])(c["a"],t.$store),t.showModalRegitrarTutoria=!1,t.headers=[{text:"Avatar",value:"avatar",align:"start"},{text:"Nome",value:"nome"},{text:"Data",value:"data"},{text:"Horário",value:"horario"},{text:"Ação",value:"acao"}],t.tutorias=[{nome:"Miguel dos Santos",data:"07 de setembro de 2020",horario:"07:00 pm",temRegistro:!1}],t}return Object(s["a"])(a,[{key:"registrarTutoria",value:function(t){this.showModalRegitrarTutoria=!0}},{key:"editarTutoria",value:function(t){this.showModalRegitrarTutoria=!0}}]),a}(v["d"]);h=Object(l["a"])([Object(v["a"])({name:"Tutorias",components:{ModalRegistrarTutoria:f}})],h);var p=h,g=p,U=a("2877"),x=Object(U["a"])(g,m,b,!1,null,null,null),F=x.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"py-6 px-4"},[i("div",{staticClass:"d-flex align-center"},[i("v-avatar",{staticClass:"mb-4 mx-auto",attrs:{size:"50%"}},[i("v-img",{attrs:{src:t.user.fotoPerfil,"lazy-src":a("2fe6")}})],1)],1),i("v-card-text",{staticClass:"text-center"},[i("h4",{staticClass:"font-weight-light grey--text mb-3",domProps:{textContent:t._s(t.userRole)}}),i("h2",{staticClass:"font-weight-light blue--text mb-3",domProps:{textContent:t._s(t.user.nome)}}),i("p",{staticClass:"font-weight-light grey--text",domProps:{textContent:t._s(t.user.descricao)}}),t.habilidadesUsuario.length>0?[i("v-divider",{staticClass:"ma-4"}),t._l(t.habilidadesUsuario,(function(e){return i("v-chip",{key:e._id,staticClass:"ma-1",attrs:{filter:"",outlined:""}},[i("span",{domProps:{textContent:t._s(e.nome)}})])}))]:t._e()],2)],1)},O=[],C=(a("4de4"),a("c740"),a("ac1f"),a("5319"),a("f82e")),j=a("ed54"),T=function(t){Object(n["a"])(a,t);var e=Object(u["a"])(a);function a(){var t,i;return Object(o["a"])(this,a),i=e.apply(this,arguments),i.authModule=Object(d["e"])(c["a"],i.$store),i.user=i.authModule.user,i.userRole=null===(t=i.user)||void 0===t?void 0:t.role.replace(/(\w)(\w*)/g,(function(t,e,a){return e.toUpperCase()+a.toLowerCase()})),i.habilidades=[],i}return Object(s["a"])(a,[{key:"mounted",value:function(){var t=this;Object(C["a"])().then((function(e){t.habilidades=e}))}},{key:"habilidadesUsuario",get:function(){var t=this.authModule.user;return t&&Object(j["c"])(t)?this.habilidades.filter((function(e){return-1!==t.habilidades.findIndex((function(t){return t===e._id}))})):[]}}]),a}(v["d"]);T=Object(l["a"])([Object(v["a"])({name:"ProfileSidebar"})],T);var M=T,k=M,A=Object(U["a"])(k,E,O,!1,null,null,null),y=A.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{staticClass:"px-6 pb-6 pt-2",model:{value:t.canSubmit,callback:function(e){t.canSubmit=e},expression:"canSubmit"}},[a("v-card-title",{staticClass:"pa-0 grey--text text--darken-1"},[t._v("Dados Pessoais")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{rules:t.rules.nome,disabled:!t.isEditing,label:"Nome Completo"},model:{value:t.user.nome,callback:function(e){t.$set(t.user,"nome",e)},expression:"user.nome"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],attrs:{rules:t.rules.dataNascimento,disabled:!t.isEditing,label:"Data de Nascimento","append-icon":"mdi-calendar"},model:{value:t.dataNascimentoNaoFormatada,callback:function(e){t.dataNascimentoNaoFormatada=e},expression:"dataNascimentoNaoFormatada"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-select",{attrs:{rules:t.rules.genero,items:t.genero,disabled:!t.isEditing,label:"Gênero"},model:{value:t.user.genero,callback:function(e){t.$set(t.user,"genero",e)},expression:"user.genero"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"CPF",disabled:""},model:{value:t.user.cpf,callback:function(e){t.$set(t.user,"cpf",e)},expression:"user.cpf"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-autocomplete",{attrs:{items:t.siglasUniversidades,rules:t.rules.campoObrigatorio,disabled:!t.isEditing,label:"Universidade"},model:{value:t.user.universidade,callback:function(e){t.$set(t.user,"universidade",e)},expression:"user.universidade"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{rules:t.rules.semestreAtual,disabled:!t.isEditing,label:"Semestre Atual"},model:{value:t.user.semestreAtual,callback:function(e){t.$set(t.user,"semestreAtual",t._n(e))},expression:"user.semestreAtual"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:!t.isEditing,label:"Nível Lecionamento"},model:{value:t.user.cursoLicensiatura,callback:function(e){t.$set(t.user,"cursoLicensiatura",e)},expression:"user.cursoLicensiatura"}})],1)],1),a("v-card-title",{staticClass:"px-0 pb-0 pt-2 grey--text text--darken-1"},[t._v("Dados de Usuário")]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:!t.isEditing,label:"E-mail"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{disabled:!t.isEditing,label:"Celular"},model:{value:t.user.celular,callback:function(e){t.$set(t.user,"celular",e)},expression:"user.celular"}})],1)],1),a("v-card-actions",{staticClass:"pa-0"},[a("v-btn",{staticClass:"mr-4 white--text",attrs:{disabled:t.isEditing,color:"red"},on:{click:function(e){t.dialogDesativacaoConta=!0}}},[a("span",[t._v("Desativar Conta")])]),a("v-btn",{staticClass:"white--text",attrs:{disabled:t.isEditing,color:"primary"},on:{click:function(e){t.dialogAlterarSenha=!0}}},[a("span",[t._v("Alterar Senha")])]),a("v-spacer"),t.isEditing?a("v-btn",{attrs:{disabled:!t.canSubmit||t.isSavingUsuario,loading:t.isSavingUsuario,color:"success"},on:{click:t.updateUsuario}},[a("span",[t._v("Concluir Edição")])]):t._e()],1),a("DialogDesativacaoConta",{model:{value:t.dialogDesativacaoConta,callback:function(e){t.dialogDesativacaoConta=e},expression:"dialogDesativacaoConta"}}),a("DialogAlterarSenha",{model:{value:t.dialogAlterarSenha,callback:function(e){t.dialogAlterarSenha=e},expression:"dialogAlterarSenha"}})],1)},N=[],_=a("5530"),P=a("d71e"),w=a("1a74"),R=a("d257"),D=function(){return a.e("chunk-82269e38").then(a.bind(null,"3d2c"))},$=function(){return a.e("chunk-2d0d3bf9").then(a.bind(null,"5da5"))},I=function(t){Object(n["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.authModule=Object(d["e"])(c["a"],t.$store),t.canSubmit=!0,t.tab=0,t.siglasUniversidades=w["a"],t.userCopy=Object(_["a"])({},t.authModule.user),t.isSavingUsuario=!1,t.dialogAlterarSenha=!1,t.dialogDesativacaoConta=!1,t.dataNascimentoNaoFormatada=Object(R["d"])(t.user.dataNascimento),t.genero=[{text:"Masculino",value:"M"},{text:"Feminino",value:"F"}],t.rules={nome:[function(t){return!!t||"Nome é obrigatório"},function(t){return!!t&&t.length>=6||"Nome deve ter no minimo 6 caracteres"},function(t){return!!t&&t.length<=60||"Nome deve ter no máximo 60 caracteres"}],email:[function(t){return!!t||"E-mail é obrigatório"},function(t){return!!t&&/.+@.+/.test(t)||"E-mail inválido"}],dataNascimento:[function(t){return!!t||"Data de nascimento é obrigatório"},function(t){return t?Object(P["a"])(t)||"Data inválida":"Campo Obrigatório"}],genero:[function(t){return!!t||"Gênero é obrigatório"}],celular:[function(t){return!!t||"Celular é obrigatório"},function(t){return!!t&&t.length>=14||"Número inválido"}],semestreAtual:[function(t){return!!t&&t>=1&&t<=16||"Número inválido"}]},t}return Object(s["a"])(a,[{key:"onDataNascimentoChange",value:function(t){this.user.dataNascimento=10===(null===t||void 0===t?void 0:t.length)?Object(R["a"])(t):""}},{key:"toggleEditMode",value:function(){this.userCopy=Object(_["a"])({},this.authModule.user),this.isEditing=!this.isEditing}},{key:"updateUsuario",value:function(){var t=this;this.isSavingUsuario=!0,this.authModule.updateUser({id:this.user._id,user:this.user}).then((function(){t.$emit("finished-editing"),t.$toasted.success("Dados atualizados",{theme:"toasted-primary",position:"top-left",duration:3e3})})).finally((function(){t.isSavingUsuario=!1,t.isEditing=!1}))}},{key:"canEditUser",get:function(){return this.tab>0}},{key:"user",get:function(){return this.isEditing?this.userCopy:this.authModule.user}}]),a}(v["d"]);Object(l["a"])([Object(v["b"])({type:Boolean,required:!0})],I.prototype,"isEditing",void 0),Object(l["a"])([Object(v["e"])("dataNascimentoNaoFormatada")],I.prototype,"onDataNascimentoChange",null),I=Object(l["a"])([Object(v["a"])({name:"TabDadosUsuarioTutor",components:{DialogDesativacaoConta:D,DialogAlterarSenha:$}})],I);var B=I,L=B,G=(a("2b60"),Object(U["a"])(L,S,N,!1,null,"ea043fe8",null)),J=G.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",{staticClass:"mt-6",attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[i("v-data-table",{attrs:{headers:t.headers,items:t.tutoriasProfessor,"hide-default-footer":""},scopedSlots:t._u([{key:"item.avatar",fn:function(t){var e=t.item;return[i("v-avatar",{attrs:{size:"36px"}},[i("v-img",{attrs:{src:e.fotoProfessor,"lazy-src":a("2fe6")}})],1)]}},{key:"item.acao",fn:function(e){var a=e.item;return[i("v-btn",{staticClass:"white--text mr-2",attrs:{color:"red",small:""},on:{click:function(e){return t.recusarTutoria(a)}}},[i("span",[t._v("Recusar")])]),i("v-btn",{staticClass:"white--text",attrs:{color:"green",small:""},on:{click:function(e){return t.escolherTutoria(a)}}},[i("span",[t._v("Aceitar")])])]}}])})],1),t.tutoriaEmExibicao?i("ModalAceitarTutoria",{attrs:{tutoria:t.tutoriaEmExibicao},on:{"tutoria-aceita":t.aceitarTutoria},model:{value:t.showModalAceitarTutoria,callback:function(e){t.showModalAceitarTutoria=e},expression:"showModalAceitarTutoria"}}):t._e()],1)},Y=[],V=(a("d81d"),a("4a4e")),q=a("a3a5"),H=function(){return a.e("chunk-062ab0ea").then(a.bind(null,"ecae"))},K=function(t){Object(n["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.professorModule=Object(d["e"])(V["a"],t.$store),t.tutoriaModule=Object(d["e"])(q["a"],t.$store),t.authModule=Object(d["e"])(c["a"],t.$store),t.showModalAceitarTutoria=!1,t.headers=[{text:"Avatar",value:"avatar",align:"start"},{text:"Professor",value:"nomeProfessor"},{text:"Data",value:"dataFormatada"},{text:"Horário",value:"tutoringHour"},{text:"Ação",value:"acao"}],t.tutoriaEmExibicao=null,t}return Object(s["a"])(a,[{key:"escolherTutoria",value:function(t){this.tutoriaEmExibicao=t,this.showModalAceitarTutoria=!0}},{key:"recusarTutoria",value:function(t){var e=this;this.showModalAceitarTutoria=!1,this.tutoriaModule.deleteTutoria(t._id).then((function(){e.$toasted.success("Tutoria Recusada",{theme:"toasted-primary",position:"top-left",duration:3e3})}))}},{key:"aceitarTutoria",value:function(){var t=this;if(this.tutoriaEmExibicao){var e=Object(_["a"])(Object(_["a"])({},this.tutoriaEmExibicao),{requestState:"aceita"});this.tutoriaModule.updateTutoria({idTutoria:this.tutoriaEmExibicao._id,dados:e}).then((function(){t.$toasted.success("Tutoria Aceita",{theme:"toasted-primary",position:"top-left",duration:3e3}),t.tutoriaModule.REMOVE_ITEMS_BY_ID(e._id),t.showModalAceitarTutoria=!1}))}}},{key:"mounted",value:function(){var t,e=this,a=null===(t=this.authModule.user)||void 0===t?void 0:t._id;a&&this.tutoriaModule.getTutoriasPendentesFromTutor(a).then((function(t){t.map((function(t){e.professorModule.fetchProfessorById(t.professorId)}))}))}},{key:"tutoriasProfessor",get:function(){var t=this;return this.tutoriaModule.asArray.filter((function(t){return"pendente"===t.requestState})).map((function(e){var a=t.professorModule.byId[e.professorId];return Object(_["a"])({dataFormatada:Object(R["d"])(e.tutoringDate),fotoProfessor:(null===a||void 0===a?void 0:a.fotoPerfil)||"",nomeProfessor:(null===a||void 0===a?void 0:a.nome)||""},e)}))}}]),a}(v["d"]);K=Object(l["a"])([Object(v["a"])({name:"SolicitacoesTutoria",components:{ModalAceitarTutoria:H}})],K);var Q=K,W=Q,X=Object(U["a"])(W,z,Y,!1,null,null,null),Z=X.exports,tt=function(t){Object(n["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(o["a"])(this,a),t=e.apply(this,arguments),t.authModule=Object(d["e"])(c["a"],t.$store),t.tab=0,t.isEditing=!1,t}return Object(s["a"])(a,[{key:"canEditUser",get:function(){return 2===Number(this.tab)}}]),a}(v["d"]);tt=Object(l["a"])([Object(v["a"])({name:"PagePerfilUsuarioTutor",components:{Tutorias:F,ProfileSidebar:y,SolicitacoesTutoria:Z,TabDadosUsuarioTutor:J}})],tt);var et=tt,at=et,it=(a("7c63"),Object(U["a"])(at,i,r,!1,null,"7371a698",null));e["default"]=it.exports},9129:function(t,e,a){var i=a("23e7");i({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},d71e:function(t,e,a){"use strict";a("99af"),a("a9e3"),a("9129"),a("ac1f"),a("1276");var i=a("5530");e["a"]=function(t,e){if(!t)return"Campo Obrigatório";var a={separator:"/",minYear:null,maxYear:null},r=Object(i["a"])(Object(i["a"])({},a),e),o=r.minYear,s=r.separator,n=r.maxYear,u=t.split(s),l=u[0],c=u[1],d=u[2];return o&&Number(d)<o?"Ano deve ser superior a ".concat(o):n&&Number(d)>n?"Ano deve ser inferior a ".concat(n):!Number.isNaN(Date.parse("".concat(c,"/").concat(l,"/").concat(d)))||"Data inválida"}}}]);
//# sourceMappingURL=PagePerfilUsuarioTutor.3a8f9b72.js.map