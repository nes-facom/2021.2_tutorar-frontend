(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3644f32c"],{2601:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-dialog",{attrs:{value:t.value,width:"500",persistent:""}},[i("v-card",[t.tutoriaSolicitada?[i("v-img",{staticClass:"mx-auto",attrs:{width:"276",src:e("2a4e")}}),i("v-card-title",{staticClass:"font-weight-bold headline d-flex justify-center"},[t._v("Tutoria solicitada")]),i("v-card-text",{staticClass:"text-center"},[t._v(" Aguarde que em breve o tutor irá analisar a solicitação e entrará em contato ")])]:[i("v-form",{ref:"form",model:{value:t.canSubmitTutoria,callback:function(a){t.canSubmitTutoria=a},expression:"canSubmitTutoria"}},[i("v-card-title",{staticClass:"mb-2 px-6 grey--text text--darken-1"},[t._v("Agendar Tutoria")]),t.ferramentas.length>0?[i("v-card-text",{staticClass:"pb-0 px-6"},[t._v("Ferramenta a utilizar")]),i("v-select",{staticClass:"px-6 pt-1",attrs:{items:t.ferramentas,"item-text":"nome","item-value":"_id"},model:{value:t.ferramentaTutoria,callback:function(a){t.ferramentaTutoria=a},expression:"ferramentaTutoria"}})]:t._e(),i("div",{staticClass:"px-6 d-flex"},[i("v-menu",{attrs:{transition:"scale-transition","min-width":"290px","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on,r=a.attrs;return[i("v-text-field",t._g(t._b({staticClass:"mr-6",attrs:{value:t.dataTutoriaFormatada,rules:t.rules.dataTutoria,"prepend-inner-icon":"mdi-calendar",label:"Dia",readonly:""}},"v-text-field",r,!1),e))]}}],null,!1,1964897219),model:{value:t.isExibindoCalendarioSelecaoDia,callback:function(a){t.isExibindoCalendarioSelecaoDia=a},expression:"isExibindoCalendarioSelecaoDia"}},[i("v-date-picker",{attrs:{locale:"pt-BR","allowed-dates":t.filterDiasCalendario},on:{input:function(a){t.menu=!1}},model:{value:t.dataTutoria,callback:function(a){t.dataTutoria=a},expression:"dataTutoria"}})],1),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on,r=a.attrs;return[i("v-text-field",t._g(t._b({staticClass:"mr-6",attrs:{"error-messages":t.errorsHorario,label:"Inicio",readonly:""},model:{value:t.horaInicioTutoria,callback:function(a){t.horaInicioTutoria=a},expression:"horaInicioTutoria"}},"v-text-field",r,!1),e))]}}],null,!1,4228109217)},[i("v-time-picker",{attrs:{format:"24hr"},model:{value:t.horaInicioTutoria,callback:function(a){t.horaInicioTutoria=a},expression:"horaInicioTutoria"}})],1),i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on,r=a.attrs;return[i("v-text-field",t._g(t._b({attrs:{label:"Fim",readonly:""},model:{value:t.horaFimTutoria,callback:function(a){t.horaFimTutoria=a},expression:"horaFimTutoria"}},"v-text-field",r,!1),e))]}}],null,!1,1897731125)},[i("v-time-picker",{attrs:{format:"24hr"},model:{value:t.horaFimTutoria,callback:function(a){t.horaFimTutoria=a},expression:"horaFimTutoria"}})],1)],1),i("v-textarea",{staticClass:"ma-6",attrs:{rows:"2",counter:"500",placeholder:"Caso deseje enviar uma mensagem com o pedido digite aqui!"},model:{value:t.mensagemPedido,callback:function(a){t.mensagemPedido=a},expression:"mensagemPedido"}}),i("v-divider",{staticClass:"mt-4"}),i("v-card-actions",{staticClass:"pa-3"},[i("v-spacer"),i("v-btn",{staticClass:"mr-4",attrs:{color:"red",text:""},on:{click:function(a){return t.$emit("input",!1)}}},[t._v("Cancelar")]),i("v-btn",{staticClass:"white--text",attrs:{disabled:!t.canSubmitTutoria,color:"green"},on:{click:t.solicitarTutoria}},[t._v(" Confirmar agendamento ")])],1)],2)]],2)],1)},r=[],o=e("d4ec"),n=e("bee2"),s=e("262e"),u=e("2caf"),c=(e("a9e3"),e("ac1f"),e("5319"),e("4de4"),e("b64b"),e("d81d"),e("1276"),e("9ab4")),l=e("1b40"),d=e("ed54"),m=e("6fc5"),f=e("d257"),v=e("d71e"),b=e("a3a5"),h=e("cdd0"),p=function(t){Object(s["a"])(e,t);var a=Object(u["a"])(e);function e(){var t;return Object(o["a"])(this,e),t=a.apply(this,arguments),t.tutoriaModule=Object(m["e"])(b["a"],t.$store),t.tutorModule=Object(m["e"])(d["b"],t.$store),t.authModule=Object(m["e"])(h["a"],t.$store),t.canSubmitTutoria=!1,t.tutoriaSolicitada=!1,t.ferramentaTutoria=null,t.isExibindoCalendarioSelecaoDia=!1,t.dataTutoria="",t.horaFimTutoria="",t.horaInicioTutoria="",t.mensagemPedido="",t.rules={dataTutoria:[function(t){return!!t||"Campo Obrigatório"},function(t){return!!t&&Object(v["a"])(t)}],campoObrigatorio:[function(t){return!!t||"Campo Obrigatório"}]},t}return Object(n["a"])(e,[{key:"errorsHorario",get:function(){if(!this.horaInicioTutoria&&!this.horaFimTutoria)return[];if(!this.horaInicioTutoria||!this.horaFimTutoria)return["Informe o horário de início e fim"];var t=Number(this.horaFimTutoria.replace(/\D/g,"")),a=Number(this.horaInicioTutoria.replace(/\D/g,""));return a<t?[]:["Horário de início deve ser anterior ao horário de termino"]}},{key:"diasSemanaPermitidos",get:function(){var t=this.tutor.agenda;return t?Object.keys(t).filter((function(a){var e=a;return e&&t[e].length>0})):[]}},{key:"dataTutoriaFormatada",get:function(){return Object(f["d"])(this.dataTutoria)}},{key:"ferramentas",get:function(){var t=this.tutorModule.habilidadesTutor(this.tutor._id);return t&&1===t.length&&(this.ferramentaTutoria=t[0]._id),t}},{key:"getDiaSemana",value:function(t){var a=t.split("-").map((function(t){return Number(t)})),e=a[0],i=a[1]-1,r=a[2],o=new Date(e,i,r).getDay(),n=["domingo","segunda","terca","quarta","quinta","sexta","sabado"];return n[o]}},{key:"filterDiasCalendario",value:function(t){if(0===this.diasSemanaPermitidos.length)return!0;var a=this.getDiaSemana(t);return-1!==this.diasSemanaPermitidos.indexOf(a)}},{key:"solicitarTutoria",value:function(){var t,a=this;this.authModule.user&&this.tutoriaModule.solicitarTutoria({tutorId:this.tutor._id,professorId:null===(t=this.authModule.user)||void 0===t?void 0:t._id,tutoringDate:this.dataTutoria,tutoringHour:this.horaInicioTutoria,requestMessage:this.mensagemPedido}).then((function(){a.$toasted.success("Solicitação registrada",{theme:"toasted-primary",position:"top-right",duration:5e3}),a.$emit("input",!1)}))}}]),e}(l["d"]);Object(c["a"])([Object(l["b"])({required:!0})],p.prototype,"value",void 0),Object(c["a"])([Object(l["b"])({required:!0,type:Object})],p.prototype,"tutor",void 0),p=Object(c["a"])([Object(l["a"])({name:"ModalAgendarTutoria"})],p);var g=p,T=g,x=e("2877"),k=Object(x["a"])(T,i,r,!1,null,null,null);a["default"]=k.exports},"2a4e":function(t,a,e){t.exports=e.p+"img/Tutoria_Cancelada.4fb845bd.svg"},9129:function(t,a,e){var i=e("23e7");i({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},d71e:function(t,a,e){"use strict";var i=e("5530");e("ac1f"),e("1276"),e("a9e3"),e("9129"),e("99af");a["a"]=function(t,a){if(!t)return"Campo Obrigatório";var e={separator:"/",minYear:null,maxYear:null},r=Object(i["a"])(Object(i["a"])({},e),a),o=r.minYear,n=r.separator,s=r.maxYear,u=t.split(n),c=u[0],l=u[1],d=u[2];return o&&Number(d)<o?"Ano deve ser superior a ".concat(o):s&&Number(d)>s?"Ano deve ser inferior a ".concat(s):!Number.isNaN(Date.parse("".concat(l,"/").concat(c,"/").concat(d)))||"Data inválida"}}}]);
//# sourceMappingURL=chunk-3644f32c.a06e7d44.js.map