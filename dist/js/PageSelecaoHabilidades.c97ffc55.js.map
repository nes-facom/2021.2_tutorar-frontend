{"version":3,"sources":["webpack:///./src/pages/tutor/PageSelecaoHabilidades.vue?6238","webpack:///./src/pages/tutor/PageSelecaoHabilidades.vue","webpack:///./src/pages/tutor/PageSelecaoHabilidades.vue?f70b","webpack:///./src/pages/tutor/PageSelecaoHabilidades.vue?874d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","class","domProps","_s","habilidadesUsuario","length","getHabilidadesLength","_l","habilidade","key","_id","on","$event","removeHabilidade","nome","Object","values","props","currentTab","cor","model","value","callback","$$v","expression","categoria","icon","i","isSelected","addHabilidade","staticRenderFns","habilidadesModule","$store","authModule","isLoading","failedToLoad","GOOGLE","EDUCACAO","COMUNICACAO","ORGANIZACAO","PROGRAMACAO","EDICAO_DE_VIDEO","CRIACAO_CONTEUDO","user","categoriasHabilidades","map","habilidades","userHasHabilidade","findIndex","h","push","val","categorias","Set","asArray","item","filter","dadosUpdate","usuarioTutor","updateUser","id","idx","indexOf","splice","totalHabilidades","meta","allFetched","fetchAll","catch","finally","name","component"],"mappings":"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","file":"js/PageSelecaoHabilidades.c97ffc55.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"12\",\"md\":\"10\",\"lg\":\"8\"}},[_c('v-card',{staticClass:\"mb-2\"},[_c('v-card-title',{staticClass:\"font-weight-bold pb-2 grey--text text--darken-2\"},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-account-details\")]),_vm._v(\" Minhas Habilidades \")],1),_c('v-divider',{staticClass:\"my-2\"}),_c('div',{staticClass:\"pa-4\"},[_c('span',{staticClass:\"grey--text text--darken-1 subtitle-1\"},[_vm._v(\" Suas habilidades são utilizadas para que professores te encontrem com mais facilidade, selecione as que você mais possui afinidade \")])]),(_vm.isLoading)?[_c('v-row',{staticClass:\"text-center\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"my-8\"},[_c('v-progress-circular',{staticClass:\"mr-2\",attrs:{\"indeterminate\":\"\",\"color\":\"grey\"}})],1)],1)]:(_vm.failedToLoad)?[_c('v-row',{staticClass:\"text-center\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{staticClass:\"my-8\"},[_c('v-card-title',{staticClass:\"mx-auto\"},[_vm._v(\"Erro ao carregar habilidades\")])],1)],1)]:[_c('v-chip-group',{staticClass:\"px-4 mb-4\",attrs:{\"column\":\"\",\"multiple\":\"\"}},[_c('div',{staticClass:\"my-auto mr-6\"},[_c('span',{staticClass:\"subtitle grey--text text--darken-2 mr-3\"},[_vm._v(\"Habilidades Selecionadas:\")]),_c('span',{class:[\n                'subtitle',\n                'font-weight-bold'\n              ],domProps:{\"textContent\":_vm._s(_vm.habilidadesUsuario.length)}}),_c('span',[_vm._v(\" de \")]),_c('span',{staticClass:\"subtitle font-weight-bold\"},[_vm._v(_vm._s(_vm.getHabilidadesLength()))])]),_vm._l((_vm.habilidadesUsuario),function(habilidade){return _c('v-chip',{key:habilidade._id,attrs:{\"outlined\":\"\",\"close\":\"\"},on:{\"click:close\":function($event){return _vm.removeHabilidade(habilidade)}}},[_c('span',{domProps:{\"textContent\":_vm._s(habilidade.nome)}})])})],2),_c('v-divider'),_c('v-tabs',{attrs:{\"color\":Object.values(_vm.props)[_vm.currentTab].cor,\"centered\":\"\",\"icons-and-text\":\"\",\"fixed-tabs\":\"\"},model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.categoriasHabilidades),function(categoria){return _c('v-tab',{key:categoria.nome},[_c('span',{domProps:{\"textContent\":_vm._s(categoria.nome)}}),_c('v-icon',{domProps:{\"textContent\":_vm._s(categoria.icon)}})],1)}),1),_c('v-tabs-items',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.categoriasHabilidades),function(categoria,i){return _c('v-tab-item',{key:i,staticClass:\"pa-4\"},_vm._l((categoria.habilidades),function(habilidade){return _c('v-chip',{key:habilidade.nome,staticClass:\"ma-2\",attrs:{\"active-class\":\"primary--text\",\"input-value\":_vm.isSelected(habilidade),\"filter\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){_vm.isSelected(habilidade) ? _vm.removeHabilidade(habilidade) : _vm.addHabilidade(habilidade)}}},[_c('span',{domProps:{\"textContent\":_vm._s(habilidade.nome)}})])}),1)}),1)]],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport HabilidadesModule, { CATEGORIAS_HABILIDADES, Habilidade } from \"@/store/modules/habilidades-module\"\nimport { affirmIsTutorAndReturn, isTutor } from \"@/store/modules/tutor-module\"\nimport { Component, Vue } from \"vue-property-decorator\"\nimport { Tutor } from \"@/store/modules/auth-types\"\nimport { getModule } from \"vuex-module-decorators\"\nimport Auth from \"@/store/modules/auth\"\nimport { cloneDeep } from \"lodash\"\n\ninterface Categoria {\n  cor: string\n  icon: string\n  nome: string\n  habilidades: Habilidade[]\n}\n\n@Component({\n  name: \"SelecaoHabilidades\"\n})\nexport default class SelecaoHabilidades extends Vue {\n  habilidadesModule = getModule(HabilidadesModule, this.$store)\n  authModule = getModule(Auth, this.$store)\n\n  currentTab = 0\n\n  isLoading = false\n\n  failedToLoad = false\n\n  props: { [x: string]: { cor: string; icon: string } } = {\n    [CATEGORIAS_HABILIDADES.GOOGLE]: {\n      cor: \"blue\",\n      icon: \"mdi-google\"\n    },\n    [CATEGORIAS_HABILIDADES.EDUCACAO]: {\n      cor: \"green\",\n      icon: \"mdi-school\"\n    },\n    [CATEGORIAS_HABILIDADES.COMUNICACAO]: {\n      cor: \"orange\",\n      icon: \"mdi-account-voice\"\n    },\n    [CATEGORIAS_HABILIDADES.ORGANIZACAO]: {\n      cor: \"deep-orange\",\n      icon: \"mdi-clipboard-check-outline\"\n    },\n    [CATEGORIAS_HABILIDADES.PROGRAMACAO]: {\n      cor: \"deep-purple\",\n      icon: \"mdi-desktop-tower-monitor\"\n    },\n    [CATEGORIAS_HABILIDADES.EDICAO_DE_VIDEO]: {\n      cor: \"blue\",\n      icon: \"mdi-video-outline\"\n    },\n    [CATEGORIAS_HABILIDADES.CRIACAO_CONTEUDO]: {\n      cor: \"green\",\n      icon: \"mdi-trello\"\n    }\n  }\n\n  get habilidadesUsuario(): Habilidade[] {\n    const { user } = this.authModule\n    if (!user || !isTutor(user)) return []\n\n    const habilidadesUsuario: Habilidade[] = []\n\n    this.categoriasHabilidades.map(categoria => {\n      categoria.habilidades.map(habilidade => {\n        const userHasHabilidade = user.habilidades.findIndex(h => h === habilidade._id) !== -1\n        if (userHasHabilidade) habilidadesUsuario.push(habilidade)\n      })\n    })\n\n    return habilidadesUsuario\n  }\n\n  /**\n   * Formata array de habilidades retornado pela api em um array\n   * de CATEGORIAS_HABILIDADES com suas respectivas habilidades para exibição\n   */\n  get categoriasHabilidades(): Categoria[] {\n    const val: Categoria[] = []\n\n    const categorias: CATEGORIAS_HABILIDADES[] = [\n      ...new Set(this.habilidadesModule.asArray.map(item => item.categoria))\n    ]\n\n    categorias.map(categoria => {\n      const { cor, icon } = this.props[categoria]\n      const habilidades = this.habilidadesModule.asArray.filter(h => h.categoria === categoria)\n      val.push({ cor, icon, nome: categoria, habilidades })\n    })\n\n    return val\n  }\n\n  get usuarioTutor(): Tutor {\n    return affirmIsTutorAndReturn(this.authModule.user)\n  }\n\n  addHabilidade(habilidade: Habilidade) {\n    // if (this.usuarioTutor.habilidades.length >= 5) return\n\n    const dadosUpdate = cloneDeep(this.usuarioTutor)\n\n    dadosUpdate.habilidades.push(habilidade._id)\n\n    this.authModule.updateUser({ id: this.usuarioTutor._id, user: dadosUpdate })\n  }\n\n  removeHabilidade(habilidade: Habilidade) {\n    if (this.usuarioTutor.habilidades.length === 0) return\n\n    const dadosUpdate = cloneDeep(this.usuarioTutor)\n\n    const idx = dadosUpdate.habilidades.indexOf(habilidade._id)\n    dadosUpdate.habilidades.splice(idx, 1)\n\n    this.authModule.updateUser({ id: this.usuarioTutor._id, user: dadosUpdate })\n  }\n\n  isSelected(habilidade: Habilidade): boolean {\n    return this.habilidadesUsuario.indexOf(habilidade) !== -1\n  }\n\n  getHabilidadesLength(): number {\n    let totalHabilidades = 0\n    for (let i = 0; i<7; i++){\n      if (this.categoriasHabilidades[i] != null) {\n      totalHabilidades += this.categoriasHabilidades[i].habilidades.length\n      }\n    }\n    return totalHabilidades\n  }\n\n\n  mounted() {\n    if (this.habilidadesModule.meta.allFetched) return\n\n    this.isLoading = true\n    this.habilidadesModule\n      .fetchAll()\n      .catch(() => {\n        this.failedToLoad = true\n      })\n      .finally(() => {\n        this.isLoading = false\n      })\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSelecaoHabilidades.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageSelecaoHabilidades.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PageSelecaoHabilidades.vue?vue&type=template&id=20cbdcc7&\"\nimport script from \"./PageSelecaoHabilidades.vue?vue&type=script&lang=ts&\"\nexport * from \"./PageSelecaoHabilidades.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}