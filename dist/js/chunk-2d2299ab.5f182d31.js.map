{"version":3,"sources":["webpack:///./src/components/forms/FormHorariosLivresDia.vue?c695","webpack:///./src/components/forms/FormHorariosLivresDia.vue","webpack:///./src/components/forms/FormHorariosLivresDia.vue?f530","webpack:///./src/components/forms/FormHorariosLivresDia.vue?1c81"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","horario","i","key","attrs","scopedSlots","_u","fn","ref","on","_g","_b","inputErrorMessages","model","value","callback","$$v","$set","expression","inicio","$event","setHorarioInicio","fim","setHorarioFim","staticClass","$emit","_v","length","_e","staticRenderFns","errorMessages","map","index","horarioFim","horarioInicio","fimNumber","Number","replace","iniNumber","formataHorario","substring","type","Array","required","name","component"],"mappings":"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","file":"js/chunk-2d2299ab.5f182d31.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.horariosFormatados),function(horario,i){return _c('v-row',{key:i},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"error-messages\":_vm.inputErrorMessages[i],\"label\":\"Inicio\",\"readonly\":\"\"},model:{value:(horario.inicio),callback:function ($$v) {_vm.$set(horario, \"inicio\", $$v)},expression:\"horario.inicio\"}},'v-text-field',attrs,false),on))]}}],null,true)},[_c('v-time-picker',{attrs:{\"value\":horario.inicio,\"format\":\"24hr\"},on:{\"change\":function($event){return _vm.setHorarioInicio($event, i)}}})],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-menu',{attrs:{\"close-on-content-click\":false,\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"Fim\",\"readonly\":\"\"},model:{value:(horario.fim),callback:function ($$v) {_vm.$set(horario, \"fim\", $$v)},expression:\"horario.fim\"}},'v-text-field',attrs,false),on))]}}],null,true)},[_c('v-time-picker',{attrs:{\"value\":horario.fim,\"format\":\"24hr\"},on:{\"change\":function($event){return _vm.setHorarioFim($event, i)}}})],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-card-title',{staticClass:\"px-0 pb-3\"},[_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"green\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('horario-adicionado')}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),(_vm.value.length > 1)?_c('v-btn',{staticClass:\"ml-4\",attrs:{\"color\":\"red\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('horario-removido', i)}}},[_c('v-icon',[_vm._v(\"mdi-minus\")])],1):_vm._e()],1)],1)],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop } from \"vue-property-decorator\"\nimport { HorarioLivre } from \"@/pages/tutor/agenda/agenda\"\n\nexport type diasUteisSemana = \"segunda\" | \"terca\" | \"quarta\" | \"quinta\" | \"sexta\"\n\n@Component({\n  name: \"FormHorariosLivresDia\"\n})\nexport default class FormHorariosLivresDia extends Vue {\n  @Prop({ type: Array, required: true })\n  value!: HorarioLivre[]\n\n  /**\n   * Array com as mensagems de erro,\n   * elas tem o mesmo index que o horario com erro\n   */\n  get inputErrorMessages(): string[] {\n    const errorMessages: string[] = []\n\n    this.value.map((horario, index) => {\n      const { fim: horarioFim, inicio: horarioInicio } = horario\n\n      if (!horarioInicio || !horarioFim) return\n\n      const fimNumber = Number(horarioFim.replace(/\\D/g, \"\"))\n      const iniNumber = Number(horarioInicio.replace(/\\D/g, \"\"))\n\n      // Se ambos existem verifico se o horario de fim é maior que o de inicio\n      if (iniNumber > fimNumber) errorMessages[index] = \"Horário de início deve ser anterior ao horário de termino\"\n    })\n\n    return errorMessages\n  }\n\n  /**\n   * Os horários formatados para o vuetify funcionar corretamente,\n   * se não há nem um horário, cria um vazio para ter o formulário\n   */\n  get horariosFormatados(): HorarioLivre[] {\n    return this.value.map(horario => ({\n      inicio: this.formataHorario(horario.inicio),\n      fim: this.formataHorario(horario.fim)\n    }))\n  }\n\n  /**\n   * Basicamente adiciona os \":\"\n   * ex: 1530 -> 15:30\n   */\n  formataHorario(horario?: string | null): string {\n    if (!horario) return \"\"\n    return `${horario.substring(0, 2)}:${horario.substring(2)}`\n  }\n\n  /**\n   * Devido a um caveat da reatividade, não consigo usar\n   * v-model do time-picker com propriedades de um objeto,\n   * por isso tenho esses setters manuais\n   */\n  setHorarioInicio(horario: string, index: number) {\n    this.value[index].inicio = horario.replace(/\\D/g, \"\")\n  }\n\n  setHorarioFim(horario: string, index: number) {\n    this.value[index].fim = horario.replace(/\\D/g, \"\")\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormHorariosLivresDia.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormHorariosLivresDia.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FormHorariosLivresDia.vue?vue&type=template&id=1088bb48&\"\nimport script from \"./FormHorariosLivresDia.vue?vue&type=script&lang=ts&\"\nexport * from \"./FormHorariosLivresDia.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}