(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3bf9"],{"5da5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"400"},on:{"click:outside":function(t){return e.$emit("input",!1)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("v-card",[a("v-card-title",{staticClass:"headline d-flex justify-center grey--text text--darken-1"},[e._v(" Alteração de senha ")]),a("v-card-text",{staticClass:"text-center"},[e._v(" Para continuar, digite sua senha ")]),a("v-text-field",{staticClass:"px-8",attrs:{placeholder:"Senha Atual"},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),a("v-text-field",{staticClass:"px-8",attrs:{placeholder:"Nova Senha"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),a("v-text-field",{staticClass:"px-8",attrs:{placeholder:"Confirme sua nova senha"},model:{value:e.newPasswordConfirmation,callback:function(t){e.newPasswordConfirmation=t},expression:"newPasswordConfirmation"}}),a("v-card-actions",{staticClass:"pa-4"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v("Cancelar")]),a("v-btn",{attrs:{disabled:e.currentPassword.length<=5&&e.newPassword.length<=5,color:"primary"},on:{click:e.buscarPorSenha}},[e._v("Próximo")])],1)],1)],1)},o=[],r=a("1da1"),s=a("d4ec"),i=a("bee2"),c=a("262e"),d=a("2caf"),u=(a("96cf"),a("9ab4")),l=(a("d3b7"),a("dc05")),h=a("fe5a");function v(e,t){return new Promise((function(a,n){Object(h["a"])().post("users/find-by-credentials",{email:e,password:t}).then((function(e){a(e.data)})).catch((function(e){var t=Object(l["a"])(e);n(t)}))}))}function f(e,t,a){return new Promise((function(n,o){Object(h["a"])().patch("users/auth/change-password/"+"".concat(e),{password:t,passwordConfirmation:a}).then((function(e){n(e)})).catch((function(e){var t,a,n,r,s,i,c=Object(l["a"])(e),d=c.message;400===(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.statusCode)&&(d="Dados inválidos"),401===(null===(n=e.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.statusCode)&&(d="Dados inválidos"),404===(null===(s=e.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.statusCode)&&(d="Método não encontrado"),o(d)}))}))}var p=a("cdd0"),w=a("1b40"),m=a("6fc5"),b=function(e){Object(c["a"])(a,e);var t=Object(d["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.authModule=Object(m["e"])(p["a"],e.$store),e.currentPassword="",e.newPassword="",e.newPasswordConfirmation="",e}return Object(i["a"])(a,[{key:"user",get:function(){return this.authModule.user}},{key:"buscarPorSenha",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v(this.user.email,this.currentPassword).then((function(e){f(e._id,t.newPassword,t.newPasswordConfirmation).then((function(){t.$toasted.success("Senha alterada com sucesso",{theme:"toasted-primary",position:"top-right",duration:5e3}),t.currentPassword="",t.newPassword="",t.newPasswordConfirmation="",t.$emit("update-modal-senha",!1)})).catch((function(){t.$toasted.error("A nova senha e sua confirmação são diferentes.",{theme:"toasted-primary",position:"top-right",duration:5e3})}))})).catch((function(e){"Senha inválida"==e.message&&t.$toasted.error("A senha atual informada não concide com sua senha cadastrada, tente novamente.",{theme:"toasted-primary",position:"top-right",duration:5e3})}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(w["d"]);Object(u["a"])([Object(w["b"])({required:!0,type:Boolean})],b.prototype,"value",void 0),b=Object(u["a"])([Object(w["a"])({name:"DialogAlterarSenha"})],b);var P=b,x=P,C=a("2877"),j=Object(C["a"])(x,n,o,!1,null,null,null);t["default"]=j.exports}}]);
//# sourceMappingURL=chunk-2d0d3bf9.72a4879f.js.map